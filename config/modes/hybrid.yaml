# Hybrid Mode Configuration
# Default operational mode using intelligent routing between Skills and Agents
# Target: 60-65% overall token reduction while maintaining strategic reasoning capability

mode:
  name: "hybrid"
  description: "Intelligent routing between Skills (70-85%) and Agents (15-25%)"
  default: true

routing:
  enabled: true
  router_class: "core.router.TaskRouter"

  # Routing thresholds
  thresholds:
    simple_to_skill: 0.85  # 85% confidence → route to Skill
    complex_to_agent: 0.85  # 85% confidence → route to Agent
    strategic_to_orchestrator: 0.90  # 90% confidence → route to Orchestrator

  # Fallback strategy when confidence is low
  fallback:
    default_target: "skill"  # Default to Skills for efficiency
    min_confidence: 0.70  # Minimum confidence to execute routing decision

skills:
  enabled: true

  # Data Extraction Skills
  data_extraction:
    - aggregate_sentiment
    - extract_medium
    - extract_twitter
    - extract_arxiv

  # Technical Analysis Skills
  technical_analysis:
    - momentum_scoring
    - volatility_assessment
    - pattern_recognition

  # Sentiment Analysis Skills
  sentiment_analysis:
    - social_sentiment_tracker
    - whale_activity_monitor
    - news_sentiment_scorer
    - sentiment_fusion

agents:
  enabled: true

  # Specialized Agents
  specialized:
    - crypto_macro_analyst
    - crypto_vc_analyst
    - crypto_sentiment_analyst

  # Strategic Orchestrator
  orchestrator:
    enabled: true
    agent: "thesis_synthesizer"

    # Orchestrator triggers
    triggers:
      - "complete analysis"
      - "comprehensive thesis"
      - "investment strategy"
      - "full synthesis"

performance:
  # Token usage targets
  token_reduction:
    target: 0.625  # 62.5% overall reduction
    skill_reduction: 0.73  # 73% reduction per Skill

  # Expected query distribution
  distribution:
    skills: 0.775  # 77.5% of queries (70-85% range)
    agents: 0.20  # 20% of queries (15-25% range)
    orchestrator: 0.025  # 2.5% of queries (5% max)

mcp:
  # MCP servers used by Skills and Agents
  servers:
    # Sentiment data
    - name: "crypto-sentiment-mcp"
      required: true
      usage: ["skills", "agents"]

    - name: "crypto-feargreed-mcp"
      required: true
      usage: ["skills", "agents"]

    # Trading data
    - name: "ccxt-mcp"
      required: true
      usage: ["skills", "agents"]

    - name: "crypto-indicators-mcp"
      required: true
      usage: ["skills"]

    # News/content
    - name: "cryptopanic-mcp-server"
      required: true
      usage: ["skills"]

    - name: "crypto-projects-mcp"
      required: false
      usage: ["agents"]

logging:
  # Performance tracking
  track_routing_decisions: true
  track_token_usage: true
  track_skill_vs_agent_ratio: true

  # Log levels
  routing: "INFO"
  skills: "INFO"
  agents: "INFO"
  orchestrator: "INFO"
